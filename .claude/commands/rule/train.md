---
description: エージェントのプロンプトを、テストを通して改善する
allowed-tools: Edit(*.md), Write(*.md)
model: opus
---

# ルールのトレーニング方法

[ultrathink]

## 概要

Claude のエージェントのプロンプトを半自動で改善します。

## 手順

### 1. 入力する情報の取得

ユーザーから以下の入力を受け取ります

A. トレーニングする対象の agent
B. トレーニング対象に入力として渡すプロンプト
C. 出力結果の正解サンプル

上記はすべて必須です。
上記で受け取っていない情報がある場合、そもそも以降のタスクが実行できないので、ユーザーに入力が不足していることを伝えてください。

### 2. 現状の動作確認プロンプト

B, C を使って、A の現状の動作を確認してください。
結果をもとに、agent-fixer エージェント で A のプロンプトを改善してください。

### 3. 改善後の動作確認プロンプト

再度 B, C を使って、A の動作を確認してください。
完了基準に達しているかどうかを確認し、十分でなければ、agent-fixer エージェント で A のプロンプトを改善してください。
これを繰り返して、A のプロンプトを改善してください。

## 完了基準

- アウトプットフォーマットが正解サンプルと同様であること
- アウトプットの内容が正解サンプルと意味的に同等であること (90% を目安に)

## 中止基準

- 5 回以上の試行を行っても、完了基準を満たせない場合
