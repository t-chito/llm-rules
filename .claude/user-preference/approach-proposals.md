# 文章生成を最適化する方法論的アプローチ

Claude に望ましい文章を生成させるための具体的な手法を提案します。継続的改善ではなく、即座に実装可能で効果が期待できるアプローチに絞っています。

## アプローチ 1：段階的中間生成物アプローチ

### 方針
最終文章を一度に生成させずに、複数ステップで中間生成物を作らせて品質を担保する

### 実装方法

```
Step 1: スクリプト生成
「まず、トークスクリプトとして話し言葉で書いてください」

Step 2: 構造化
「このスクリプトを見出しと段落に整理してください。内容は変えないで」

Step 3: 文体調整
「体言止めを動詞に直してください」

Step 4: 最終チェック
「禁止事項リストに違反していないか確認してください」
```

### メリット
- 各段階で品質をチェックできる
- 問題があれば特定の段階だけやり直せる
- 思考過程が可視化される

### デメリット
- 生成時間が長くなる
- トークン消費が増える

### 具体例
samples/v1_as-script.md と v2_as-structured.md がまさにこのアプローチの実例

---

## アプローチ 2：高品質サンプル提示アプローチ

### 方針
95 点以上の品質のサンプル文章を複数用意し、それを参考に生成させる

### 実装方法

```
プロンプト構成：
1. 「以下のサンプルを参考にしてください」
2. 良いサンプル 3-5 個を提示
3. 「これらのスタイルで書いてください」
```

### 必要な準備
- 異なるタイプの高品質サンプルを 10 個程度用意
- 各サンプルに「なぜ良いか」のアノテーションを付ける
- タスクタイプ別にサンプルを分類

### メリット
- 具体例があるので品質が安定する
- スタイルの一貫性が保たれる
- 説明より実例の方が効果的

### デメリット
- 良質なサンプルの作成コストが高い
- サンプルに引きずられて創造性が低下する可能性

---

## アプローチ 3：禁止事項チェックリスト型アプローチ

### 方針
詳細な禁止事項リストを作成し、生成後に必ずセルフレビューさせる

### 実装方法

```python
# 禁止事項リスト（100項目以上）
禁止リスト = [
    "体言止めで終わっている",
    "〜の＋動作性名詞",
    "絵文字を使っている",
    "『おそらく』を使っている",
    "『一般的には』を使っている",
    "冒頭で背景説明をしている",
    # ... 100項目以上
]

# 生成後にチェック
「生成した文章を以下の禁止事項リストでチェックし、
違反があれば修正してください」
```

### メリット
- 機械的にチェックできる
- 見落としが減る
- 品質の下限を保証できる

### デメリット
- リストのメンテナンスが大変
- チェックに時間がかかる
- 過度に制約的になる可能性

---

## アプローチ 4：全文保持＋差分修正アプローチ

### 方針
一度生成した文章を全部保持し、問題箇所だけを差分修正していく

### 実装方法

```
1. 初回生成
「まず書いてみてください」→ 全文を保存

2. 問題特定
「3段落目の体言止めが気になります」

3. 差分修正
「3段落目だけ修正してください。他は変えないで」

4. 全体確認
「修正版の全文を表示してください」
```

### メリット
- 良い部分を保持できる
- 修正履歴が追跡できる
- 過度な書き換えを防げる

### デメリット
- コンテキスト管理が複雑
- 部分修正の整合性確保が難しい

---

## アプローチ 5：メタプロンプト自動生成アプローチ

### 方針
現在の要求を分析して、最適なプロンプトを自動生成してから本文を書かせる

### 実装方法

```
Step 1: 要求分析
「この要求を分析して、どんな文章が求められているか箇条書きにしてください」

Step 2: プロンプト生成
「この要求に最適なプロンプトを生成してください」

Step 3: 本文生成
「生成したプロンプトに従って文章を書いてください」
```

### メリット
- 要求の解釈ミスが減る
- プロンプトエンジニアリングの知識が不要
- 再利用可能なプロンプトが蓄積される

### デメリット
- オーバーヘッドが大きい
- メタプロンプトの品質に依存

---

## 推奨実装

**即効性と実用性を重視するなら：**

### 組み合わせ案

1. **基本戦略**：アプローチ 1（段階的中間生成物）をベースにする
2. **品質保証**：アプローチ 3（禁止事項チェックリスト）を最後に適用
3. **参考材料**：重要な文書にはアプローチ 2（高品質サンプル）を併用

### 具体的な実装手順

```
1. 禁止事項リスト.md を作成（50-100項目）
2. サンプル集.md を作成（10個程度）
3. 生成テンプレート.md を作成

テンプレート内容：
- Step 1: 口語的に書く
- Step 2: 構造化する
- Step 3: 禁止事項チェック
- Step 4: 最終出力
```

### 運用方法

用途別に異なるアプローチを適用する：

#### A. 使い捨て出力（速度重視）
**対象**: コードレビュー、調査結果、質問への回答など  
**特徴**: さっさと生成、さっさと読める、さっさと意思決定

```
固定フォーマット例：
【結論】1行
【理由】3行以内
【詳細】必要に応じて箇条書き
【次のアクション】1行
```

- 出力フォーマットを固定化
- 禁止事項チェックは最小限
- テンプレート駆動で高速生成

#### B. 中長期参照出力（品質重視）
**対象**: プロダクトビジョン、仕様書、ドキュメントなど  
**特徴**: 文体を含めて品質が重要、何度も読み返される

```
生成プロセス：
1. ペルソナ設定：「現場エンジニア」人格で草稿作成
2. 段階的生成：口語→構造化→文体調整
3. 二重人格レビュー：「批判的レビュアー」人格で以下をチェック
   - 禁止事項リストとの照合
   - 体言止めや不自然な名詞化の検出
   - 冗長な説明や曖昧な表現の指摘
   - 論理的整合性の確認
4. 対話的修正：レビュー結果を基に改善
```

- サンプルやフォーマットに頼らない
- 対話的に品質を高める
- ペルソナを活用して文体を制御

この使い分けにより、スピードと品質の両立が可能になります。