# 使い捨て出力テンプレート

さっさと生成して、さっさと読んで、さっさと意思決定するための固定フォーマットです。

## 設計思想

### 情報密度の最大化（CLAUDE.md より）

- **情報密度 = 情報量 ÷ 文字数**
- 高密度を維持しつつ読みやすく
- 不要な装飾や説明を排除
- 表形式での整理を活用

### 質問のレイヤを理解する

| 質問の意図 | 適切な応答 |
|------------|------------|
| 概要を知りたい | 詳細な実装方法は不要 |
| 具体的な手順を知りたい | 背景説明より実行可能な手順を優先 |
| 判断材料を求めている | 選択肢とその特徴を簡潔に提示 |

### 用途

- コードレビューの結果
- 調査結果のまとめ  
- 質問への簡潔な回答
- エラー調査の報告
- 技術選定の判断材料
- 進捗報告

## 基本フォーマット

```
【結論】
{1行で核心を述べる}

【理由】
{3行以内で根拠を説明する。箇条書き可}

【詳細】
{必要なら箇条書きで補足情報を提供する}

【次のアクション】
{1行で具体的なアクションを提示する}
```

## 具体例

### 例1：コードレビュー結果

```
【結論】
このPRはマージ可能だが、2点の修正が必要。

【理由】
- エラーハンドリングが不足している（line 45-50）
- テストケースが網羅的でない（happy pathのみ）
- その他のロジックは問題なし

【詳細】
- line 45: null チェックを追加する
- line 89: エッジケースのテストを追加する
- パフォーマンスは既存実装と同等

【次のアクション】
上記2点を修正後、再レビューを依頼してください。
```

### 例2：技術調査結果

```
【結論】
Next.js 14 への移行は現時点では推奨しない。

【理由】
- App Router の学習コストが高い（チーム全体で約2週間）
- 既存の Pages Router で要件を満たせている
- 移行による明確なメリットが少ない

【詳細】
- パフォーマンス改善：約10%（実測値）
- 開発体験：Turbopack は確かに高速
- 破壊的変更：middleware の仕様変更に対応必要

【次のアクション】
3ヶ月後に再評価する。それまでは現行バージョンを維持。
```

### 例3：エラー調査

```
【結論】
データベース接続プールの枯渇が原因。

【理由】
- 同時接続数が上限（100）を超えている
- トランザクションの未クローズが3箇所で発生
- 負荷テストで再現を確認

【詳細】
- UserService.js:234 - finally句でのclose()漏れ
- OrderRepository.js:456 - エラー時のrollback漏れ  
- PaymentGateway.js:789 - タイムアウト時の処理漏れ

【次のアクション】
上記3箇所を修正し、接続プールを150に増やす。
```

## フォーマットのバリエーション

### 比較が必要な場合

```
【結論】
{選択肢と推奨を1行で}

【比較表】
| 項目 | 選択肢A | 選択肢B |
|------|---------|---------|
| コスト | $100/月 | $200/月 |
| 性能 | 十分 | 過剰 |
| 学習曲線 | 緩やか | 急 |

【次のアクション】
{具体的なアクション}
```

### Yes/No の判断の場合

```
【結論】
No（またはYes）

【理由】
{1-2行で根拠}

【次のアクション】
{代替案または次のステップ}
```

## 使用上の注意

1. **結論ファースト** - 必ず結論から始める
2. **根拠は簡潔に** - 詳細な説明は不要
3. **アクション明確化** - 次に何をすべきか明示する
4. **禁止事項の遵守** - forbidden-patterns.md を確認する
5. **カスタマイズ最小限** - フォーマットは固定する

## 品質チェック

生成後、以下を確認：

- [ ] 結論が1行で明確か
- [ ] 理由が3行以内か
- [ ] 次のアクションが具体的か
- [ ] 体言止めを使っていないか
- [ ] 冗長な説明がないか
- [ ] 読んで5秒で判断できるか

このテンプレートを使えば、効率的なコミュニケーションが実現できます。